function createFigureWithXLabel(X1, YMatrix1, YMatrix2, X2, Y1, yvector1, xvector1, yvector2, xvector2, yvector3, xvector3, yvector4, xvector4, yvector5, xvector5, yvector6, xvector6, yvector7, xvector7, yvector8, xvector8, yvector9, xvector9, yvector10, xvector10, yvector11, xvector11, yvector12)
%CREATEFIGURE(X1, YMATRIX1, YMATRIX2, X2, Y1, YVECTOR1, XVECTOR1, YVECTOR2, XVECTOR2, YVECTOR3, XVECTOR3, YVECTOR4, XVECTOR4, YVECTOR5, XVECTOR5, YVECTOR6, XVECTOR6, YVECTOR7, XVECTOR7, YVECTOR8, XVECTOR8, YVECTOR9, XVECTOR9, YVECTOR10, XVECTOR10, YVECTOR11, XVECTOR11, YVECTOR12)
%  X1:  vector of x data
%  YMATRIX1:  matrix of y data
%  YMATRIX2:  matrix of y data
%  X2:  vector of x data
%  Y1:  vector of y data
%  YVECTOR1:  bar yvector
%  XVECTOR1:  bar xvector
%  YVECTOR2:  bar yvector
%  XVECTOR2:  bar xvector
%  YVECTOR3:  bar yvector
%  XVECTOR3:  bar xvector
%  YVECTOR4:  bar yvector
%  XVECTOR4:  bar xvector
%  YVECTOR5:  bar yvector
%  XVECTOR5:  bar xvector
%  YVECTOR6:  bar yvector
%  XVECTOR6:  bar xvector
%  YVECTOR7:  bar yvector
%  XVECTOR7:  bar xvector
%  YVECTOR8:  bar yvector
%  XVECTOR8:  bar xvector
%  YVECTOR9:  bar yvector
%  XVECTOR9:  bar xvector
%  YVECTOR10:  bar yvector
%  XVECTOR10:  bar xvector
%  YVECTOR11:  bar yvector
%  XVECTOR11:  bar xvector
%  YVECTOR12:  bar yvector

%  Auto-generated by MATLAB on 19-Jan-2017 12:42:17

% Create figure
figure1 = figure('Name','ESM on Datasets ( TMT UCSB LinTrack PAMI )');

% Create axes
axes1 = axes('Parent',figure1,...
    'YTick',[0.25 0.3 0.35 0.4 0.45 0.5 0.55 0.6 0.65 0.7 0.75],...
    'Position',[0.0472689075630252 0.10126582278481 0.327731092436974 0.876582278481013],...
    'FontWeight','bold',...
    'FontSize',24,...
    'FontName','Times New Roman');
%% Uncomment the following line to preserve the X-limits of the axes
% xlim(axes1,[0 20]);
%% Uncomment the following line to preserve the Y-limits of the axes
% ylim(axes1,[0.25 0.75]);
grid(axes1,'on');
hold(axes1,'all');

% Create multiple lines using matrix input to plot
plot1 = plot(X1,YMatrix1,'Parent',axes1,'LineWidth',3);
set(plot1(1),'DisplayName','SSIM:12.329');
set(plot1(2),'Color',[1 0 0],'DisplayName','NCC:12.515');
set(plot1(3),'Color',[0.439215686 0.541176471 0.564705882],...
    'DisplayName','MI:11.991');
set(plot1(4),'Color',[0 1 1],'DisplayName','SPSS:11.047');
set(plot1(5),'Color',[0.133333333 0.545098039 0.133333333],...
    'DisplayName','SSD:11.120');
set(plot1(6),'Color',[0.803921569 0.68627451 0.584313725],...
    'DisplayName','ZNCC:12.412');

% Create ylabel
ylabel('Success Rate','FontWeight','bold','FontSize',24,...
    'FontName','Times New Roman');

% Create legend
legend1 = legend(axes1,'show');
set(legend1,...
    'Position',[0.267477824463118 0.110452869931543 0.104049953314659 0.279094260136914],...
    'FontSize',18);

% Create axes
axes2 = axes('Parent',figure1,...
    'YTick',[0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5 0.55 0.6 0.65 0.7],...
    'Position',[0.410797101449275 0.109177215189873 0.320295335525515 0.870253164556962],...
    'FontWeight','bold',...
    'FontSize',24,...
    'FontName','Times New Roman');
%% Uncomment the following line to preserve the X-limits of the axes
% xlim(axes2,[0 20]);
%% Uncomment the following line to preserve the Y-limits of the axes
% ylim(axes2,[0.15 0.7]);
grid(axes2,'on');
hold(axes2,'all');

% Create multiple lines using matrix input to plot
plot2 = plot(X1,YMatrix2,'Parent',axes2,'LineWidth',3);
set(plot2(1),'Color',[0.690196078 0.188235294 0.376470588],...
    'DisplayName','RIU:11.379');
set(plot2(2),'Color',[1 0.843137255 0],'DisplayName','NGF:10.894');
set(plot2(3),'Color',[0 1 0],'DisplayName','CCRE:10.054');
set(plot2(4),'Color',[0.62745098 0.125490196 0.941176471],...
    'DisplayName','SCV:12.005');
set(plot2(5),'Color',[1 0.647058824 0],'DisplayName','LSCV:11.818');

% Create plot
plot(X2,Y1,'Parent',axes2,'LineWidth',3,'Color',[1 0 1],...
    'DisplayName','RSCV:11.931');

% Create xlabel
xlabel('Error Threshold','FontWeight','bold','FontSize',24,...
    'FontName','Times New Roman');

% Create legend
legend2 = legend(axes2,'show');
set(legend2,...
    'Position',[0.623074229691876 0.118364262336606 0.104516806722689 0.279094260136914],...
    'FontSize',18);

% Create axes
axes3 = axes('Parent',figure1,'XTickLabel','',...
    'XTick',[1 2 3 4 5 6 7 8 9 10 11 12],...
    'Position',[0.788758068444766 0.0189873417721519 0.213405797101449 0.963607594936709],...
    'FontWeight','bold',...
    'FontSize',24,...
    'FontName','Times New Roman',...
    'Color','none');
%% Uncomment the following line to preserve the X-limits of the axes
% xlim(axes3,[0 13]);
grid(axes3,'on');
hold(axes3,'all');

% Create bar
bar(yvector1,'FaceColor',[0 0 1],'LineWidth',2,'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','SSIM:700');

% Create bar
bar(xvector1,yvector2,'FaceColor',[1 0 0],'LineWidth',2,'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','NCC:715');

% Create bar
bar(xvector2,yvector3,'FaceColor',[0.439215686 0.541176471 0.564705882],...
    'LineWidth',2,...
    'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','MI:1009');

% Create bar
bar(xvector3,yvector4,'FaceColor',[0 1 1],'LineWidth',2,'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','SPSS:902');

% Create bar
bar(xvector4,yvector5,'FaceColor',[0.133333333 0.545098039 0.133333333],...
    'LineWidth',2,...
    'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','SSD:845');

% Create bar
bar(xvector5,yvector6,'FaceColor',[0.803921569 0.68627451 0.584313725],...
    'LineWidth',2,...
    'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','ZNCC:701');

% Create bar
bar(xvector6,yvector7,'FaceColor',[0.690196078 0.188235294 0.376470588],...
    'LineWidth',2,...
    'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','RIU:983');

% Create bar
bar(xvector7,yvector8,'FaceColor',[1 0.843137255 0],'LineWidth',2,...
    'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','NGF:1607');

% Create bar
bar(xvector8,yvector9,'FaceColor',[0 1 0],'LineWidth',2,'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','CCRE:1499');

% Create bar
bar(xvector9,yvector10,'FaceColor',[0.62745098 0.125490196 0.941176471],...
    'LineWidth',2,...
    'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','SCV:868');

% Create bar
bar(xvector10,yvector11,'FaceColor',[1 0 1],'LineWidth',2,'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','RSCV:775');

% Create bar
bar(xvector11,yvector12,'FaceColor',[1 0.647058824 0],'LineWidth',2,...
    'BarWidth',0.5,...
    'Parent',axes3,...
    'DisplayName','LSCV:741');

% Create ylabel
ylabel('Number of Failures','FontWeight','bold','FontSize',24,...
    'FontName','Times New Roman');

% Create textbox
annotation(figure1,'textbox',...
    [0.580348739495793 0.49953640248327 0.0525294117647106 0.0787261146496827],...
    'String',{'ESM'},...
    'FontWeight','bold',...
    'FontSize',24,...
    'FontName','Times New Roman',...
    'FitBoxToText','off',...
    'EdgeColor','none');

% Create textbox
annotation(figure1,'textbox',...
    [0.0493193277310919 0.928384261872128 0.0236848739495798 0.0461783439490469],...
    'String',{'(c)'},...
    'FontWeight','bold',...
    'FontSize',20,...
    'FontName','Times New Roman',...
    'FitBoxToText','off',...
    'EdgeColor','none');

